# Lab 3: 语法分析程序

这个实验是最难的一个，其中 SLR1 文法实现似乎会比 LL1 要难，所以在这里 C 语言文法就不针对 SLR 去专门写一个了

感谢往届师兄贡献的 C 语言 LL1 文法集，本人经过了一定修改：

- 添加了 while 语句分析
- 修复了声明闭包与函数闭包无法交错的问题

该文件是 [LL1 文法](./LL1Grammar.txt)，他的分析就靠你自己来吧，毕竟只是简单的字符串分割操作。

严格来说，这个文法并不算正确，因为其存在预测表冲突的问题（当然构造 First 和 Follow 集的算法似乎也存在问题，因为 `<声明语句>` 和 `<赋值函数>` 这两个 First 集不冲突的非终结符也能触发预测表冲突），但是现在输出似乎没问题，能跑的代码就别乱动了（大嘘

主要问题还是文法不正确，网络和 GitHub 上也没找到完全正确的 C 语言 LL1 文法...

目前已知的问题：
- `isLL1` 函数无法正常检测文法
- 求 First、Follow、Select 集算法可能存在错误
- 数组下标文法不生效

~~文法文件你可以随便修改，代码每次执行前会检查是否为 LL1 文法，假如卡在了某个死循环或者抛出 `Grammar is not LL1` 的错误就可以证明文法不是 LL1（不一定能检测出来）。~~

其次是本实验需要实验二输出结果作为实验三的预设分析输入，实验二分析出来的常量，标识符等会被实验三用到，因此拷贝了实验二部分代码到实验三中。

通过这个实验，你可以学习到：

- LL1:
  - 构造 First 集、Follow 集和 Select 集算法
  - 使用以上内容实现语法分析
  - 简单的应急恢复技巧
- SLR1:
  - 根据文法规则构造状态表
  - 根据状态表进行语法分析

PS: 在后续过程我将尝试使用以上知识去构造一个 json 语法分析器。
